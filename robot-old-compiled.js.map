{"version":3,"sources":["robot-old.js"],"names":[],"mappings":"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","file":"robot-old-compiled.js","sourcesContent":["var DOMParser = require('xmldom').DOMParser;\nvar Botkit    = require('botkit');\nvar http      = require('http');\nvar request   = require('request');\nvar Chance    = require('chance');\nvar Secret    = require('./secret.js');\nvar slackToken;\n\nif (process.env.SLACK_TOKEN == null) {\n\tslackToken = Secret.slackToken;\n} else {\n\tslackToken = process.env.SLACK_TOKEN;\n}\n\nvar weatherToken = 'bfbb9867aa3f80a7';\nvar obamaToken   = '60c6a10d525a7b198b73245bc2591b42';\nvar chance       = new Chance();\n\nvar controller = Botkit.slackbot({\n\tdebug: false,\n\tretry: false\n\t//include \"log: false\" to disable logging\n\t//or a \"logLevel\" integer from 0 to 7 to adjust logging verbosity\n});\n\n// connect the bot to a stream of messages\nvar bot = controller.spawn({\n\ttoken: slackToken\n});\n\nbot.startRTM(function(err) {\n\tif (err) {\n\t\tthrow new Error('Could not connect to Slack!');\n\t}\n});\n\n// give the bot something to listen for.\ncontroller.hears('hello', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\tbot.reply(message, 'Hello yourself.');\n});\n\ncontroller.hears('weather', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\n\tvar txt = message.text;\n\ttxt = txt.toLowerCase().replace('weather', '');\n\n\tvar city = txt.split(',')[0].trim().replace(' ', '_');\n\tvar state = txt.split(',')[1].trim();\n\n\tconsole.log(city + ', ' + state);\n\n\tvar url = '/api/' + weatherToken + '/forecast/q/state/city.json';\n\turl = url.replace('state', state);\n\turl = url.replace('city', city);\n\n\thttp.get({\n\t\thost: 'api.wunderground.com',\n\t\tpath: url\n\t}, function(response) {\n\t\tvar body = '';\n\t\tresponse.on('data', function(d) {\n\t\t\tbody += d;\n\t\t});\n\t\tresponse.on('end', function() {\n\t\t\tvar data = JSON.parse(body);\n\t\t\tvar days = data.forecast.simpleforecast.forecastday;\n\n\t\t\tconsole.log(days);\n\n\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\tbot.reply(message, days[i].date.weekday +\n\t\t\t\t\t' high: ' + days[i].high.fahrenheit +\n\t\t\t\t\t' low: ' + days[i].low.fahrenheit +\n\t\t\t\t\t' conditions: ' + days[i].conditions);\n\t\t\t\t//bot.reply(message, days[i].icon_url);\n\t\t\t}\n\t\t});\n\t});\n\n});\n\ncontroller.hears('google', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\n\tvar txt = message.text;\n\ttxt = txt.toLowerCase().replace('google', '');\n\ttxt = txt.slice(1, txt.length);\n\ttxt = txt.toLowerCase().replace(/ /g, '+');\n\n\tvar url = 'https://www.google.com/#q=' + txt;\n\n\tbot.reply(message, url);\n\n});\n\ncontroller.hears('pugbomb', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\tbot.reply(message, 'Why do you want to look at pugs? Why not Shar-Peis?');\n});\n\ncontroller.hears('talkobamatome', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\n\tvar txt = message.text;\n\ttxt = txt.toLowerCase().replace('talkobamatome', '');\n\ttxt = txt.slice(1, txt.length);\n\n\tbot.reply(message, 'Processing your request, please hold.');\n\n\trequest.post({\n\t\turl: 'http://talkobamato.me/synthesize.py',\n\t\tform: {\n\t\t\tinput_text: txt\n\t\t}\n\t}, function(err, httpResponse, body) {\n\t\tvar data      = body;\n\t\tvar parser    = new DOMParser();\n\t\tvar htmlDoc   = parser.parseFromString(data, \"text/html\");\n\t\tvar video     = htmlDoc.getElementsByTagName('a');\n\t\tvar address   = video[0].getAttribute('href');\n\t\tvar videoKey  = address.split('=')[1];\n\t\tvar videoLink = 'http://talkobamato.me/synth/output/' + videoKey + '/obama.mp4';\n\n\t\tbot.reply(message, videoLink);\n\t});\n\n});\n\ncontroller.hears('lorem', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\tvar txt = message.text;\n\tvar words = chance.paragraph();\n\n\tbot.reply(message, words);\n});\n\ncontroller.hears('xkcd', ['direct_message', 'direct_mention', 'mention'], function(bot, message) {\n\tvar messageText = message.text;\n\tvar splitText = message.text;\n\tsplitText = splitText.toLowerCase().replace('xkcd', '');\n\tsplitText = splitText.slice(1, splitText.length);\n\n\tvar totalComicCount;\n\tvar randomComic;\n\n\tif (messageText.toLowerCase() == 'xkcd' && messageText.length == 4) {\n\t\trequest.post({\n\t\t\turl: 'http://xkcd.com/info.0.json'\n\t\t}, function(err, httpResponse, body) {\n\t\t\tvar replyBody = JSON.parse(body);\n\t\t\tvar title = replyBody.safe_title;\n\t\t\tvar alt = replyBody.alt;\n\t\t\tvar image = replyBody.img;\n\n\t\t\tbot.reply(message, ('*' + title + '*'));\n\t\t\tbot.reply(message, (image + '\\n' + alt));\n\t\t});\n\t} else if (splitText.toLowerCase().indexOf('random') > -1) {\n\t\trequest.post({\n\t\t\turl: 'http://xkcd.com/info.0.json'\n\t\t}, function(err, httpResponse, body) {\n\t\t\tvar replyBody = JSON.parse(body);\n\t\t\ttotalComicCount = String(replyBody.num);\n\t\t\trandomComic = chance.integer({ min: 1, max: totalComicCount });\n\n\t\t\trequest.post({\n\t\t\t\turl: 'http://xkcd.com/' + randomComic + '/info.0.json'\n\t\t\t}, function(err, httpResponse, body) {\n\t\t\t\tvar replyBody = JSON.parse(body);\n\t\t\t\tvar title = replyBody.safe_title;\n\t\t\t\tvar alt = replyBody.alt;\n\t\t\t\tvar image = replyBody.img;\n\n\t\t\t\tbot.reply(message, ('*' + title + '*'));\n\t\t\t\tbot.reply(message, (image + '\\n' + '*' + alt + '*'));\n\t\t\t});\n\t\t});\n\t} else if (typeof Number(splitText) == \"number\") {\n\t\trequest.post({\n\t\t\turl: 'http://xkcd.com/' + splitText + '/info.0.json'\n\t\t}, function(err, httpResponse, body) {\n\t\t\tvar replyBody = JSON.parse(body);\n\t\t\tvar title = replyBody.safe_title;\n\t\t\tvar alt = replyBody.alt;\n\t\t\tvar image = replyBody.img;\n\t\t\t\n\t\t\tbot.reply(message, ('*' + title + '*'));\n\t\t\tbot.reply(message, (image + '\\n' + '*' + alt + '*'));\n\t\t});\n\t}\n});"]}