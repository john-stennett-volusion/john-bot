{"version":3,"sources":["robot-es2015.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,YAAY,QAAQ,QAAR,EAAkB,SAAlC;AACA,IAAI,SAAY,QAAQ,QAAR,CAAhB;AACA,IAAI,OAAY,QAAQ,MAAR,CAAhB;AACA,IAAI,UAAY,QAAQ,SAAR,CAAhB;AACA,IAAI,SAAY,QAAQ,QAAR,CAAhB;AACA,IAAI,SAAY,QAAQ,aAAR,CAAhB;;AAEA,IAAI,SAAe,IAAI,MAAJ,EAAnB;AACA,IAAI,eAAe,kBAAnB;AACA,IAAI,UAAJ;;;AAGA,IAAI,QAAQ,GAAR,CAAY,WAAZ,IAA2B,IAA/B,EAAqC;AACpC,cAAa,OAAO,UAApB;AACA,CAFD,MAEO;AACN,cAAa,QAAQ,GAAR,CAAY,WAAzB;AACA;;AAED,IAAI,aAAa,OAAO,QAAP,CAAgB;AAChC,QAAO,KADyB;AAEhC,QAAO;;;AAFyB,CAAhB,CAAjB;;;AAQA,IAAI,MAAM,WAAW,KAAX,CAAiB;AAC1B,QAAO;AADmB,CAAjB,CAAV;;;AAKA,IAAI,QAAJ,CAAc,GAAD,IAAS;AACrB,KAAI,GAAJ,EAAS;AACR,QAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN;AACA;AACD,CAJD;;;AAOA,WAAW,KAAX,CAAiB,OAAjB,EAA0B,CAAC,gBAAD,EAAmB,gBAAnB,EAAqC,SAArC,CAA1B,EAA2E,CAAC,GAAD,EAAM,OAAN,KAAkB;AAC5F,KAAI,KAAJ,CAAU,OAAV,EAAmB,iBAAnB;AACA,CAFD;;AAIA,WAAW,KAAX,CAAiB,MAAjB,EAAyB,CAAC,gBAAD,EAAmB,gBAAnB,EAAqC,SAArC,CAAzB,EAA0E,CAAC,GAAD,EAAM,OAAN,KAAkB;AAC3F,KAAI,eAAe,QAAQ,IAAR,CAAa,WAAb,EAAnB;;AAEA,KAAI,gBAAgB,MAApB,EAA4B;AAC3B,MAAI,cAAc,EAAlB;AACA,iBAAe,CAAC,uDAAD,CAAf;AACA,iBAAe,CAAC,6DAAD,CAAf;AACA,iBAAe,CAAC,qEAAD,CAAf;AACA,iBAAe,CAAC,4EAAD,CAAf;AACA,iBAAe,CAAC,kEAAD,CAAf;AACA,iBAAe,CAAC,2DAAD,CAAf;AACA,iBAAe,CAAC,oDAAD,CAAf;AACA,iBAAe,CAAC,+DAAD,CAAf;;AAEA,MAAI,KAAJ,CAAU,OAAV,EAAmB,WAAnB;AACA;AACD,CAhBD;;AAkBA,WAAW,KAAX,CAAiB,SAAjB,EAA4B,CAAC,gBAAD,EAAmB,gBAAnB,EAAqC,SAArC,CAA5B,EAA6E,CAAC,GAAD,EAAM,OAAN,KAAkB;AAC9F,KAAI,iBAAiB,QAAQ,IAAR,CAAa,WAAb,EAArB;AACA,kBAAiB,eAAe,OAAf,CAAuB,SAAvB,EAAkC,EAAlC,EAAsC,KAAtC,CAA4C,GAA5C,CAAjB;;AAEA,KAAI,OAAO,eAAe,CAAf,EAAkB,IAAlB,GAAyB,OAAzB,CAAiC,GAAjC,EAAsC,GAAtC,CAAX;AACA,KAAI,QAAQ,eAAe,CAAf,EAAkB,IAAlB,EAAZ;;AAEA,KAAI,aAAa,CAAC,KAAD,GAAQ,YAAR,EAAqB,YAArB,GAAmC,KAAnC,EAAyC,CAAzC,GAA4C,IAA5C,EAAiD,KAAjD,CAAjB;;AAEA,MAAK,GAAL,CAAS;AACR,QAAM,sBADE;AAER,QAAM;AAFE,EAAT,EAGI,QAAD,IAAc;AAChB,MAAI,cAAc,EAAlB;;AAEA,WAAS,EAAT,CAAY,MAAZ,EAAqB,CAAD,IAAO;AAC1B,kBAAe,CAAf;AACA,GAFD;AAGA,WAAS,EAAT,CAAY,KAAZ,EAAmB,MAAM;AACxB,OAAI,cAAc,KAAK,KAAL,CAAW,WAAX,CAAlB;AACA,OAAI,cAAc,YAAY,QAAZ,CAAqB,cAArB,CAAoC,WAAtD;;AAEA,QAAK,IAAI,IAAE,CAAX,EAAc,IAAI,YAAY,MAA9B,EAAsC,GAAtC,EAA2C;AAC1C,QAAI,aAAa,CAAC,CAAD,GAAI,YAAY,CAAZ,EAAe,IAAf,CAAoB,OAAxB,EAAgC,CAAhC,CAAjB;AACA,QAAI,cAAc,CAAC,QAAD,GAAW,YAAY,CAAZ,EAAe,IAAf,CAAoB,UAA/B,EAAA,AAA0C,CAA5D;AACA,QAAI,aAAa,CAAC,OAAD,GAAU,YAAY,CAAZ,EAAe,GAAf,CAAmB,UAA7B,EAAA,AAAwC,CAAzD;AACA,QAAI,oBAAoB,CAAC,cAAD,GAAiB,YAAY,CAAZ,EAAe,UAAhC,EAAA,AAA2C,CAAnE;AACA,QAAI,iBAAiB,CAAA,AAAC,GAAE,UAAH,EAAc,GAAd,GAAmB,WAAnB,EAA+B,GAA/B,GAAoC,UAApC,EAA+C,GAA/C,GAAoD,iBAApD,EAAA,AAAsE,CAA3F;;AAEA,QAAI,KAAJ,CAAU,OAAV,EAAmB,cAAnB;AACA;AACD,GAbD;AAcA,EAvBD;AAwBA,CAjCD","file":"robot-es2015-compiled.js","sourcesContent":["'use strict';\n\nlet DOMParser = require('xmldom').DOMParser;\nlet Botkit    = require('botkit');\nlet http      = require('http');\nlet request   = require('request');\nlet Chance    = require('chance');\nlet Secret    = require('./secret.js');\n\nlet chance       = new Chance();\nlet weatherToken = 'bfbb9867aa3f80a7';\nlet slackToken;\n\n// Define the correct Slack Token based on environment.\nif (process.env.SLACK_TOKEN == null) {\n\tslackToken = Secret.slackToken;\n} else {\n\tslackToken = process.env.SLACK_TOKEN;\n}\n\nlet controller = Botkit.slackbot({\n\tdebug: false,\n\tretry: false\n\t//include \"log: false\" to disable logging\n\t//or a \"logLevel\" integer from 0 to 7 to adjust logging verbosity\n});\n\n// Connect the bot to a stream of messages.\nlet bot = controller.spawn({\n\ttoken: slackToken\n});\n\n// Start the bot.\nbot.startRTM((err) => {\n\tif (err) {\n\t\tthrow new Error('Could not connect to Slack!');\n\t}\n});\n\n// Give the bot something to listen for.\ncontroller.hears('hello', ['direct_message', 'direct_mention', 'mention'], (bot, message) => {\n\tbot.reply(message, 'Hello yourself.');\n});\n\ncontroller.hears('help', ['direct_message', 'direct_mention', 'mention'], (bot, message) => {\n\tlet slackMessage = message.text.toLowerCase();\n\n\tif (slackMessage == 'help') {\n\t\tlet helpMessage = '';\n\t\thelpMessage += `\\`\\`\\`hello               - Returns \"Hello yourself\".\\n`;\n\t\thelpMessage += `help                - Returns a list of available commands.\\n`;\n\t\thelpMessage += `weather CITY, STATE - Include CITY, STATE & you'll get the weather.\\n`;\n\t\thelpMessage += `google SEARCH_TERM  - Include a SEARCH_TERM & you'll get a link to Google.\\n`;\n\t\thelpMessage += `lorem               - Returns a random paragraph of Lorem Ipsum.\\n`;\n\t\thelpMessage += `xkcd                - Returns the most recent XKCD comic.\\n`;\n\t\thelpMessage += `xkcd random         - Returns a random XKCD comic.\\n`;\n\t\thelpMessage += `xkcd COMIC_NUMBER   - Returns the specified XKCD comic #.\\`\\`\\``;\n\n\t\tbot.reply(message, helpMessage);\n\t}\n});\n\ncontroller.hears('weather', ['direct_message', 'direct_mention', 'mention'], (bot, message) => {\n\tlet weatherMessage = message.text.toLowerCase();\n\tweatherMessage = weatherMessage.replace('weather', '').split(',');\n\n\tlet city = weatherMessage[0].trim().replace(' ', '_');\n\tlet state = weatherMessage[1].trim();\n\n\tlet weatherUri = `/api/${weatherToken}/forecast/q/${state}/${city}.json`;\n\n\thttp.get({\n\t\thost: 'api.wunderground.com',\n\t\tpath: weatherUri\n\t}, (response) => {\n\t\tlet weatherBody = '';\n\n\t\tresponse.on('data', (d) => {\n\t\t\tweatherBody += d;\n\t\t});\n\t\tresponse.on('end', () => {\n\t\t\tlet weatherData = JSON.parse(weatherBody);\n\t\t\tlet weatherDays = weatherData.forecast.simpleforecast.forecastday;\n\n\t\t\tfor (let i=0; i < weatherDays.length; i++) {\n\t\t\t\tlet weatherDay = `*${weatherDays[i].date.weekday}*`;\n\t\t\t\tlet weatherHigh = `*High*: ${weatherDays[i].high.fahrenheit}`;\n\t\t\t\tlet weatherLow = `*Low*: ${weatherDays[i].low.fahrenheit}`;\n\t\t\t\tlet weatherConditions = `*Conditions*: ${weatherDays[i].conditions}`;\n\t\t\t\tlet weatherMessage = `${weatherDay} - ${weatherHigh} - ${weatherLow} - ${weatherConditions}`;\n\n\t\t\t\tbot.reply(message, weatherMessage);\n\t\t\t}\n\t\t});\n\t});\n});"]}